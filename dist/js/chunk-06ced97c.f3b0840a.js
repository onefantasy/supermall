(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06ced97c"],{"16cc":function(t,e,n){"use strict";var o=n("985d"),s=n.n(o);s.a},"1bc2":function(t,e,n){},3641:function(t,e,n){},"3e1b":function(t,e,n){"use strict";var o=n("cacf"),s=n.n(o);s.a},"4bbe":function(t,e,n){},5398:function(t,e,n){t.exports=n.p+"img/arrow.0d00e885.jpg"},"69f8":function(t,e,n){"use strict";var o=n("76d5"),s=n.n(o);s.a},"6d71":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-box"},t._l(t.goods[t.currentGoods],function(e){return n("GoodsListItem",{staticClass:"goods-item",attrs:{item:e},on:{"img-load":t.itemImgLoad}})}),1)},s=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-item-box"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.item.img,expression:"item.img"}],attrs:{alt:""},on:{load:t.loadimg,click:t.goDetail}}),n("div",[n("p",{staticClass:"goods-item-name"},[t._v(t._s(t.item.name))]),n("p",{staticClass:"goods-item-price"},[t._v(t._s(t.item.price))])])])},i=[],a={name:"GoodsListItem",props:{item:{type:Object,default:function(){return{}}}},data:function(){return{}},updated:function(){},methods:{loadimg:function(){this.$bus.$emit("imgLoad"),this.$emit("img-load")},goDetail:function(){this.$router.push("/detail/"+this.item.id)}},components:{}},c=a,u=(n("b31b"),n("2877")),l=Object(u["a"])(c,r,i,!1,null,"01c1a258",null),d=l.exports,f={name:"GoodsList",props:{goods:{type:Object,default:function(){return{}}},goodIndex:0},data:function(){return{}},methods:{itemImgLoad:function(){this.$emit("item-img-load")}},components:{GoodsListItem:d},mounted:function(){},computed:{goodsKeys:function(){var t=[];for(var e in this.goods)t.push(e);return t},currentGoods:function(){return this.goodsKeys[this.goodIndex]}}},m=f,h=(n("9169"),Object(u["a"])(m,o,s,!1,null,"c1020312",null));e["a"]=h.exports},"701c":function(t,e,n){"use strict";var o=n("3641"),s=n.n(o);s.a},"76d5":function(t,e,n){},"77b8":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[n("NavBar",{staticClass:"home-bar"},[n("div",{attrs:{slot:"center"},slot:"center"},[t._v("动漫街")])]),n("TabControl",{ref:"tabControl1",staticClass:"tab-control",class:{Fixed:t.isFixedTabControl},attrs:{title:["流行","古典","款式"]},on:{changeIndex:t.changeGoods}}),n("Scroll",{ref:"scroll",staticClass:"content",attrs:{probeTypeNum:3,pullUpLoad:!0},on:{scroll:t.isShowBackTop,loadMore:t.loadMore}},[n("Swiper",{attrs:{banners:t.banners,top:"44px"}}),n("RecommonView",{staticStyle:{"background-color":"#fff"},attrs:{recommend:t.recommend}}),n("FeatureImg"),n("TabControl",{ref:"tabControl2",staticClass:"tab-control",attrs:{title:["流行","古典","款式"]},on:{changeIndex:t.changeGoods}}),n("GoodsList",{attrs:{goods:t.goods,goodIndex:t.goodsIndex}})],1),n("BackTop",{directives:[{name:"show",rawName:"v-show",value:t.isShowBack,expression:"isShowBack"}],nativeOn:{click:function(e){return t.backTop(e)}}})],1)},s=[],r=n("a7ac"),i=n("ace8"),a=n("5d17"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-control-box"},t._l(t.title,function(e,o){return n("div",{staticClass:"tab-control-item",class:{active:t.current===o},on:{click:function(e){return t.itemClick(o)}}},[n("span",[t._v(t._s(e))])])}),0)},u=[],l={name:"TabControl",props:{title:{type:Array,default:function(){return[]}}},data:function(){return{current:0}},methods:{itemClick:function(t){this.current=t,this.$emit("changeIndex",t)}},components:{}},d=l,f=(n("16cc"),n("2877")),m=Object(f["a"])(d,c,u,!1,null,"27518244",null),h=m.exports,p=n("6d71"),g=n("fdd6"),b=n("1bab");function v(){return Object(b["a"])({url:"/homeImgBanner"})}function x(){return Object(b["a"])({url:"/homeRecommend"})}function $(){return Object(b["a"])({url:"/homeGoods"})}var I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend-box clear-fix"},t._l(t.recommend,function(e){return n("div",{staticClass:"recommend-item"},[n("img",{attrs:{src:e.img,alt:""}}),n("div",[t._v(t._s(e.title))])])}),0)},C=[],y={name:"RecommendView",props:{recommend:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{},components:{}},_=y,w=(n("7893"),Object(f["a"])(_,I,C,!1,null,"f1bb7bec",null)),T=w.exports,L=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},k=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"feature-box"},[o("a",{attrs:{href:"#"}},[o("img",{attrs:{src:n("7cbf"),alt:"加载出错"}})])])}],S={name:"FeatureImg",data:function(){return{}},methods:{},components:{}},j=S,O=(n("701c"),Object(f["a"])(j,L,k,!1,null,"27677042",null)),B=O.exports,E={name:"home",data:function(){return{banners:[],recommend:[],goods:{},goodsIndex:0,positionY:0,tabControlTop:0,saveY:0}},computed:{isShowBack:function(){return-this.positionY>500},isFixedTabControl:function(){return-this.positionY>this.tabControlTop}},methods:{changeGoods:function(t){this.goodsIndex=t,this.$refs.tabControl1.current=t,this.$refs.tabControl2.current=t},backTop:function(){this.$refs.scroll.goTop(0,-40,500)},isShowBackTop:function(t){this.positionY=t.y},loadMore:function(){var t=0;for(var e in this.goods)t===this.goodsIndex&&(this.goods[e].push(this.goods[e][0]),this.$refs.scroll.scroll.finishPullUp()),t++},debounce:function(t,e){var n=null;return function(){for(var o=this,s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];n&&clearTimeout(n),n=setTimeout(function(){t.apply(o,r)},e)}}},components:{NavBar:r["a"],Swiper:i["a"],RecommonView:T,FeatureImg:B,TabControl:h,GoodsList:p["a"],Scroll:a["a"],BackTop:g["a"]},created:function(){var t=this;v().then(function(e){return t.banners=e}),x().then(function(e){return t.recommend=e}),$().then(function(e){return t.goods=e})},mounted:function(){var t=this,e=this.debounce(this.$refs.scroll.refresh,50);this.$bus.$on("imgLoad",function(){e()}),this.$bus.$on("swiperImgLoad",function(){t.tabControlTop=t.$refs.tabControl2.$el.offsetTop+t.$refs.tabControl2.$el.offsetHeight})},activated:function(){this.$refs.scroll.refresh(),this.$refs.scroll.goTop(0,this.saveY,0)},deactivated:function(){this.saveY=this.positionY}},G=E,N=(n("cfd3"),Object(f["a"])(G,o,s,!1,null,"61cf3b08",null));e["default"]=N.exports},7893:function(t,e,n){"use strict";var o=n("c7a4"),s=n.n(o);s.a},"7cbf":function(t,e,n){t.exports=n.p+"img/homeRecommendAfter.770ef621.jpg"},"840d":function(t,e,n){},9169:function(t,e,n){"use strict";var o=n("f164"),s=n.n(o);s.a},"985d":function(t,e,n){},"9b90":function(t,e,n){"use strict";var o=n("4bbe"),s=n.n(o);s.a},ace8:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper-box",style:"margin-top:"+t.top,on:{touchstart:t.touchStart,touchend:t.touchEnd}},[n("div",{staticClass:"swiper-img"},t._l(t.banners,function(e,o){return n("div",{staticClass:"bannersImg"},[n("SwiperItem",{ref:"index",refInFor:!0,attrs:{item:e,index:o,postImgLoadItem:t.postImgLoad}})],1)}),0),n("div",{staticClass:"dots"})])},s=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper-item",style:"left:"+t.leftNum},[n("a",{attrs:{href:"#"}},[n("img",{attrs:{src:t.item,alt:""},on:{load:t.swiperImgLoad}})])])},i=[],a=(n("c5f6"),{name:"SwiperItem",props:{item:{type:String,default:""},index:{type:Number},postImgLoadItem:{type:Boolean,default:!0}},data:function(){return{indexNum:this.index,emitImgLoad:1}},computed:{leftNum:function(){return 100*this.indexNum+"%"}},methods:{swiperImgLoad:function(){this.postImgLoadItem&&this.$bus.$emit("swiperImgLoad")}},components:{}}),c=a,u=(n("3e1b"),n("2877")),l=Object(u["a"])(c,r,i,!1,null,"59e6d1ac",null),d=l.exports,f={name:"Swiper",props:{banners:{type:Array,default:function(){return[]}},top:{type:String,default:"0px"},postImgLoad:{type:Boolean,default:!0}},data:function(){return{startX:0,endX:0,current:0,timer:null}},methods:{order:function(t){var e=this.$refs.index,n=0,o=0;0===this.current?(n=1,o=e.length-1):this.current===e.length-1?(n=0,o=this.current-1):(n=this.current+1,o=this.current-1),e[o].$el.style.left="-100%",e[n].$el.style.left="100%","next"===t?(e[o].$el.style.transition="all 0.75s",e[n].$el.style.transition="all 0s"):(e[o].$el.style.transition="all 0s",e[n].$el.style.transition="all 0.75s")},nextChange:function(){var t=this.$refs.index;this.current=(this.current+1)%t.length;for(var e=0;e<t.length;e++)t[e].$el.style.zIndex=1;t[this.current].$el.style.transition="all 0.75s",t[this.current].$el.style.left="0%",t[this.current].$el.style.zIndex=2,this.order("next")},preChange:function(){var t=this.$refs.index;this.current=0===this.current?t.length-1:this.current-1;for(var e=0;e<t.length;e++)t[e].$el.style.zIndex=1;t[this.current].$el.style.transition="all 0.75s",t[this.current].$el.style.left="0%",t[this.current].$el.style.zIndex=2,this.order("pre")},touchStart:function(t){this.startX=t.changedTouches[0].clientX},touchEnd:function(t){this.endX=t.changedTouches[0].clientX,this.startX-this.endX>0?this.nextChange():this.preChange()}},updated:function(){var t=this,e=this.$refs.index;this.order("next"),e[this.current].$el.style.zIndex=2,this.timer=setInterval(function(){t.nextChange()},3e3)},beforeDestroy:function(){clearInterval(this.timer)},components:{SwiperItem:d}},m=f,h=(n("9b90"),Object(u["a"])(m,o,s,!1,null,"1c2df7ab",null));e["a"]=h.exports},b31b:function(t,e,n){"use strict";var o=n("840d"),s=n.n(o);s.a},c7a4:function(t,e,n){},cacf:function(t,e,n){},cfd3:function(t,e,n){"use strict";var o=n("1bc2"),s=n.n(o);s.a},f164:function(t,e,n){},fdd6:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"back-top-box"},[o("img",{attrs:{src:n("5398"),alt:""}})])}],r={name:"BackTop",data:function(){return{}},methods:{},components:{}},i=r,a=(n("69f8"),n("2877")),c=Object(a["a"])(i,o,s,!1,null,"3b0a7c55",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-06ced97c.f3b0840a.js.map